# CHEÂ·NU â€” Documentation ComplÃ¨te & Prompt SystÃ¨me

> **Version**: Phase 13 Complete | **Lignes de code**: 74,366 | **Date**: DÃ©cembre 2024

---

## ğŸ¯ VISION DU PROJET

### Qu'est-ce que CHEÂ·NU?

**CHEÂ·NU** (prononcÃ© "Chez Nous") est un **Governed Intelligence Operating System** â€” une plateforme de gestion de construction intelligente pour le marchÃ© quÃ©bÃ©cois, propulsÃ©e par 168+ agents d'IA spÃ©cialisÃ©s.

### La Philosophie Centrale

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                         â”‚
â”‚   L'IA SUGGÃˆRE.  L'HUMAIN DÃ‰CIDE.  LE SYSTÃˆME TRACE.   â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

CHEÂ·NU n'automatise **jamais** les dÃ©cisions. Il **amplifie** l'intelligence humaine:

| L'IA fait | L'humain fait |
|-----------|---------------|
| SuggÃ¨re des options | Valide ou rejette |
| Explique son raisonnement | Comprend et dÃ©cide |
| Trace toutes les actions | Garde le contrÃ´le total |
| S'adapte au contexte | DÃ©finit le contexte |

---

## âš–ï¸ LES TROIS LOIS (INVIOLABLES)

Ces lois sont le cÅ“ur constitutionnel de CHEÂ·NU. Elles ne peuvent **jamais** Ãªtre contournÃ©es.

### ğŸ¥‡ Loi 1: SouverainetÃ© Humaine
> **L'humain garde toujours le contrÃ´le final.**
- Aucune action automatique sans validation
- L'humain peut toujours override
- Le systÃ¨me sert, il ne commande pas

### ğŸ¥ˆ Loi 2: Transparence Totale
> **Toute suggestion doit Ãªtre expliquÃ©e et traÃ§able.**
- Chaque recommandation a un "pourquoi"
- L'historique complet est accessible
- Pas de "boÃ®te noire"

### ğŸ¥‰ Loi 3: Protection des IntÃ©rÃªts
> **Le systÃ¨me protÃ¨ge l'utilisateur, jamais contre lui.**
- Les suggestions servent l'utilisateur
- Pas de manipulation ou dark patterns
- Respect de la vie privÃ©e

---

## ğŸ—ï¸ ARCHITECTURE DE L'UNIVERS

### Structure Spatiale

```
                         âš–ï¸ GOVERNANCE
                        (mÃ©ta-sphÃ¨re)
                             â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚         â”‚           â”‚           â”‚         â”‚
   ğŸ‘¤ Personal  ğŸ¢ Business  ğŸ¨ Creative  ğŸ“ Scholar
       â”‚         â”‚           â”‚           â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                 â”‚
                ğŸ§  Methodology    ğŸ›ï¸ Institutions
                    â”‚                 â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    ğŸ•¶ï¸ XR (Immersion)
                             â”‚
                     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                        ğŸŒ³ TRUNK
                     (Timeline vÃ©ritÃ©)
                     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### Les 9 SphÃ¨res

| SphÃ¨re | IcÃ´ne | Description | Presets |
|--------|-------|-------------|---------|
| Personal | ğŸ‘¤ | Vie personnelle, tÃ¢ches, habitudes | 3 |
| Business | ğŸ¢ | Affaires, stratÃ©gie, exÃ©cution | 4 |
| Creative | ğŸ¨ | CrÃ©ation, idÃ©ation, production | 4 |
| Social | ğŸ‰ | RÃ©seaux sociaux, engagement | 4 |
| Scholar | ğŸ“ | Apprentissage, recherche | 4 |
| Methodology | ğŸ§  | MÃ©thodes, workflows | 4 |
| Institutions | ğŸ›ï¸ | ConformitÃ©, politiques | 3 |
| XR | ğŸ•¶ï¸ | Immersion, navigation spatiale | 3 |
| Governance | âš–ï¸ | MÃ©ta-sphÃ¨re, supervision | 2 |

---

## ğŸ“Š TRAVAIL ACCOMPLI

### Statistiques Globales

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TOTAL: 74,366 LIGNES DE CODE          â”‚
â”‚  FICHIERS: 200+                        â”‚
â”‚  MODULES: 25+                          â”‚
â”‚  AGENTS: 168+                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Modules DÃ©veloppÃ©s

| Module | Lignes | Description |
|--------|--------|-------------|
| **Core Preset System** | 2,421 | Single source of truth, fusion, observability |
| **XR Complete** | 15,757 | Avatars, gestures, voice, meeting, multiplayer |
| **XR Presets** | 735 | Auras visuelles, animations |
| **Universe 3D** | 3,999 | Three.js, clustering, physics |
| **Personalization** | 5,781 | Engine, store, migrations, UI |
| **Phases** | 2,093 | 14 phases (6 standard + 8 construction) |
| **Roles** | 1,670 | 14 rÃ´les, PresetAdvisor |
| **Presets** | 2,315 | 13 presets built-in |
| **Timeline** | 2,500+ | Recorder, Replay, Audit |
| **Meeting Room** | 1,800+ | Orchestrator, agents, decisions |
| **Navigation** | 1,500+ | Reducer, resolver, transitions |
| **Backend** | 6,500+ | FastAPI, routes, WebSocket |

### Phases de DÃ©veloppement ComplÃ©tÃ©es

1. âœ… **Phase 1-4**: Foundation (Dimension Resolver, React Adapter)
2. âœ… **Phase 5**: UI Components (Spheres, Agents, Navigation)
3. âœ… **Phase 6**: 168 Agents d'Influence
4. âœ… **Phase 7**: Timeline, Replay, Audit
5. âœ… **Phase 8**: Meeting Room System
6. âœ… **Phase 9**: Universe Theme System
7. âœ… **Phase 10**: Personalization Core
8. âœ… **Phase 11**: Presets Module
9. âœ… **Phase 12**: Roles & Phases
10. âœ… **Phase 13**: Preset Consolidation (Single Source of Truth)

---

## ğŸ›ï¸ LE SYSTÃˆME DE PRESETS

### Concept

Un **preset** est une configuration d'interface suggÃ©rÃ©e selon le contexte. Il modifie la densitÃ©, le thÃ¨me, et les paramÃ¨tres XR â€” mais **jamais automatiquement**.

### Les 5 Presets Core

| Preset | DensitÃ© | XR | Usage |
|--------|---------|-----|-------|
| `focus` | minimal | off | Concentration, tÃ¢ches prÃ©cises |
| `exploration` | rich | cosmic | DÃ©couverte, recherche |
| `audit` | balanced | calm | Revue, vÃ©rification |
| `meeting` | balanced | focused | RÃ©unions collaboratives |
| `minimal` | minimal | off | Charge cognitive minimale |

### HiÃ©rarchie de RÃ©solution

```
PRIORITÃ‰ 1: Manuel (choix explicite de l'utilisateur)
     â†“
PRIORITÃ‰ 2: Projet (preset associÃ© au projet actif)
     â†“
PRIORITÃ‰ 3: SphÃ¨re (preset de la sphÃ¨re active)
     â†“
PRIORITÃ‰ 4: Phase (preset de la phase actuelle)
     â†“
PRIORITÃ‰ 5: RÃ´le (preset par dÃ©faut du rÃ´le)
```

### Les 5 Lois du Preset System

1. **Timeline = vÃ©ritÃ©** â†’ Source unique, jamais modifiÃ©e
2. **XR = visualisation, jamais dÃ©cision** â†’ L'aura montre, elle ne choisit pas
3. **Metrics = observation, jamais jugement** â†’ Les donnÃ©es informent
4. **Aucun preset n'est automatique** â†’ Toujours suggÃ©rÃ©
5. **Humain garde toujours le contrÃ´le** â†’ Le systÃ¨me sert

---

## ğŸ¤– PROMPT SYSTÃˆME OPTIMISÃ‰

### Pour Continuer le DÃ©veloppement CHEÂ·NU

```markdown
# CHEÂ·NU Development Assistant

Tu es l'assistant de dÃ©veloppement pour CHEÂ·NU, un Governed Intelligence 
Operating System pour la gestion de construction au QuÃ©bec.

## IDENTITÃ‰

Tu travailles sur un projet de 74,000+ lignes de code TypeScript/React/Python.
Tu connais intimement l'architecture et respectes les principes fondamentaux.

## LES TROIS LOIS (JAMAIS VIOLÃ‰ES)

1. **SOUVERAINETÃ‰ HUMAINE**: L'humain dÃ©cide toujours. Aucune automatisation 
   des dÃ©cisions. Le code suggÃ¨re, l'utilisateur valide.

2. **TRANSPARENCE TOTALE**: Chaque suggestion a un "pourquoi". Tout est 
   traÃ§able. Pas de magie, pas de boÃ®te noire.

3. **PROTECTION DES INTÃ‰RÃŠTS**: Le systÃ¨me sert l'utilisateur, jamais 
   contre lui. Pas de manipulation, respect de la vie privÃ©e.

## ARCHITECTURE

- **9 SphÃ¨res**: Personal, Business, Creative, Social, Scholar, 
  Methodology, Institutions, XR, Governance
- **Trunk**: Timeline centrale, source de vÃ©ritÃ©
- **168 Agents**: OrganisÃ©s en niveaux L0â†’L3
- **Presets**: Configurations suggÃ©rÃ©es (jamais auto-appliquÃ©es)

## STYLE DE CODE

- TypeScript strict avec types exhaustifs
- Documentation JSDoc en franÃ§ais
- Exports nommÃ©s, pas de default exports
- Tests pour chaque module critique
- SÃ©paration: types â†’ defaults â†’ engine â†’ hooks â†’ index

## RÃˆGLES D'OR DU PRESET SYSTEM

```typescript
// TOUJOURS
const suggested = resolvePreset(context);
showSuggestion(suggested);  // Montrer Ã  l'utilisateur
await userValidation();     // Attendre confirmation
applyPreset(suggested);     // Appliquer seulement aprÃ¨s

// JAMAIS
applyPreset(resolvePreset(context)); // Auto-application interdite
```

## QUAND TU CODES

1. **Lis d'abord** les fichiers existants pour comprendre les patterns
2. **Respecte** la structure des modules existants
3. **Documente** en franÃ§ais avec JSDoc
4. **Trace** toutes les actions via le Timeline
5. **SuggÃ¨re** toujours, n'automatise jamais

## QUAND TU EXPLIQUES

- Utilise des tableaux pour les comparaisons
- Montre le code pertinent
- Explique le "pourquoi" avant le "comment"
- RÃ©fÃ©rence les Trois Lois quand pertinent

## PHRASE CLEF

> "L'IA suggÃ¨re. L'humain dÃ©cide. Le systÃ¨me trace."

Cette phrase guide TOUTES les dÃ©cisions d'architecture.
```

---

## ğŸš€ PROCHAINES Ã‰TAPES

### Court Terme
- [ ] Tests unitaires complets
- [ ] IntÃ©gration LLM rÃ©el (Claude/GPT)
- [ ] Backend API complÃ¨te
- [ ] Docker + CI/CD

### Moyen Terme
- [ ] ConformitÃ© RBQ/CNESST/CCQ
- [ ] App mobile (React Native)
- [ ] Mode offline
- [ ] Multi-tenant

### Long Terme
- [ ] Marketplace d'agents
- [ ] API publique
- [ ] IntÃ©grations tierces
- [ ] IA prÃ©dictive construction

---

## ğŸ“ STRUCTURE DU PROJET

```
chenu-generated/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ core/                 # Single Source of Truth
â”‚   â”‚   â”œâ”€â”€ preset-trunk.ts   # Version finale (275 lignes)
â”‚   â”‚   â”œâ”€â”€ preset-system.ts  # Types, presets, roles, phases
â”‚   â”‚   â”œâ”€â”€ preset-fusion.tsx # Engine + UI
â”‚   â”‚   â”œâ”€â”€ preset-observability.ts
â”‚   â”‚   â”œâ”€â”€ sphere-presets.ts # 31 sphere presets
â”‚   â”‚   â”œâ”€â”€ dimension/
â”‚   â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â”œâ”€â”€ meetings/
â”‚   â”‚   â””â”€â”€ theme/
â”‚   â”œâ”€â”€ xr/                   # XR Complete (15K+ lignes)
â”‚   â”‚   â”œâ”€â”€ presets/          # XR Auras
â”‚   â”‚   â”œâ”€â”€ meeting/
â”‚   â”‚   â”œâ”€â”€ voice/
â”‚   â”‚   â”œâ”€â”€ gestures/
â”‚   â”‚   â”œâ”€â”€ avatars/
â”‚   â”‚   â””â”€â”€ multiplayer/
â”‚   â”œâ”€â”€ personalization/      # Personnalisation
â”‚   â”œâ”€â”€ phases/               # Phases de projet
â”‚   â”œâ”€â”€ roles/                # RÃ´les utilisateur
â”‚   â”œâ”€â”€ presets/              # Presets module
â”‚   â”œâ”€â”€ timeline/             # Timeline, Replay, Audit
â”‚   â”œâ”€â”€ meeting/              # Meeting Room
â”‚   â”œâ”€â”€ universe3d/           # Three.js Universe
â”‚   â””â”€â”€ ui/                   # Composants UI
â”œâ”€â”€ backend/                  # FastAPI Python
â””â”€â”€ core-reference/           # Documentation JSON
```

---

## ğŸ’¡ CONSEILS POUR LA CONTINUITÃ‰

### Ce qui fonctionne bien
- Modules autonomes avec index.ts clair
- Types sÃ©parÃ©s des implÃ©mentations
- Hooks React dÃ©diÃ©s par fonctionnalitÃ©
- Timeline comme source de vÃ©ritÃ©

### Ce qu'il faut Ã©viter
- Auto-application de presets (viole Loi 1)
- Code sans documentation (viole Loi 2)
- FonctionnalitÃ©s cachÃ©es (viole Loi 2)
- Manipulation de l'utilisateur (viole Loi 3)

### Patterns Ã  suivre
```typescript
// Structure de module standard
my-module/
â”œâ”€â”€ types.ts         // Types et interfaces
â”œâ”€â”€ defaults.ts      // Valeurs par dÃ©faut
â”œâ”€â”€ engine.ts        // Logique mÃ©tier
â”œâ”€â”€ hooks.ts         // React hooks
â””â”€â”€ index.ts         // Exports publics
```

---

## ğŸ™ CONCLUSION

CHEÂ·NU reprÃ©sente une vision oÃ¹ l'IA **augmente** l'humain sans le remplacer. Chaque ligne de code est Ã©crite avec le respect de cette philosophie.

Le projet est Ã  **74,366 lignes** et prÃªt pour les prochaines phases de dÃ©veloppement. La fondation est solide, l'architecture est claire, et les principes sont Ã©tablis.

**La prochaine personne qui travaille sur ce projet a tout ce qu'il faut pour continuer dans la bonne direction.**

---

*Document gÃ©nÃ©rÃ© le 8 dÃ©cembre 2024*
*Pro-Service Construction â€” Brossard, QuÃ©bec*
