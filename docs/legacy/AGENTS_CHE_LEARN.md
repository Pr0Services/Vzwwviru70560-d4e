# CHEÂ·NU â€” Agents IA & CHE-Learn (V1)

## 1. Objectif

DÃ©finir le systÃ¨me d'agents IA de CHEÂ·NU:
- HiÃ©rarchie des agents
- RÃ´les et responsabilitÃ©s
- CHE-Learn (apprentissage contrÃ´lÃ©)
- IntÃ©gration avec le systÃ¨me

---

## 2. HiÃ©rarchie des Agents

```
                              â­ NOVA (L-1)
                         Superviseur Omniscient
                                  â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                     â”‚                     â”‚
        ğŸ›ï¸ ARCHITECTE        ğŸ§  MASTER-MIND        ğŸ“š CHE-LEARN
           (L0)                 (L0)                 (Global)
            â”‚                     â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”
    â”‚       â”‚       â”‚     â”‚      â”‚      â”‚
  ğŸ¯      ğŸ‘ï¸      ğŸŒ    ğŸ’¼    ğŸ     ğŸ“Š
DIRECTEUR VISION  COMMUN  ENTREPRISE MAISON PROJETS
  (L1)    (L1)    (L1)     (L1)    (L1)   (L1)
    â”‚
â”Œâ”€â”€â”€â”´â”€â”€â”€â”
â”‚       â”‚
ğŸ”§     ğŸ“
BUILDER DOCU
(L2)   (L2)
    â”‚
â”Œâ”€â”€â”€â”´â”€â”€â”€â”
â”‚       â”‚
ğŸ’¬     ğŸ“‹
CHAT  TÃ‚CHES
(L3)   (L3)
    â”‚
    â”‚
   ğŸ”Œ
PLUGINS
 (L4)
```

---

## 3. Description des Niveaux

### L-1: Superviseur Omniscient

| Agent | Description |
|-------|-------------|
| â­ **Nova** | Intelligence suprÃªme, supervise tout le systÃ¨me |

**ResponsabilitÃ©s:**
- Surveillance globale
- Coordination inter-agents
- DÃ©cisions stratÃ©giques
- RÃ©solution de conflits

---

### L0: Architectes du SystÃ¨me

| Agent | RÃ´le |
|-------|------|
| ğŸ›ï¸ **Architecte** | Valide les structures, maintient les rÃ¨gles |
| ğŸ§  **Master-Mind** | Orchestre les tÃ¢ches complexes |
| ğŸ“š **CHE-Learn** | Apprentissage et Ã©volution contrÃ´lÃ©e |

---

### L1: Directeurs de Domaine

| Agent | Domaine | ResponsabilitÃ©s |
|-------|---------|-----------------|
| ğŸ¯ **Directeur** | Coordination | Dirige les Ã©quipes d'agents |
| ğŸ‘ï¸ **Visionnaire** | CrÃ©ation | InterprÃ¨te les intentions utilisateur |
| ğŸŒ **Gardien Commun** | Monde Commun | Maintient les espaces partagÃ©s |
| ğŸ’¼ **Agent Entreprise** | Business | GÃ¨re les modules entreprise |
| ğŸ  **Agent Maison** | Personnel | GÃ¨re les modules maison |
| ğŸ“Š **Agent Projets** | Projets | GÃ¨re les projets et tÃ¢ches |

---

### L2: SpÃ©cialistes

| Agent | SpÃ©cialitÃ© | Actions |
|-------|------------|---------|
| ğŸ”§ **Builder** | Construction | GÃ©nÃ¨re code, assets, structures |
| ğŸ“ **Documentor** | Documentation | Documente automatiquement |
| âœ… **Validator** | Validation | Tests et vÃ©rifications |
| ğŸ¨ **Designer** | Design | CrÃ©e interfaces et visuels |

---

### L3: OpÃ©rationnels

| Agent | Fonction | Interface |
|-------|----------|-----------|
| ğŸ’¬ **Chat** | Conversation | Dialogue avec utilisateur |
| ğŸ“‹ **TÃ¢ches** | Gestion tÃ¢ches | CrÃ©e, assigne, suit |
| ğŸ“§ **Email** | Communications | RÃ©dige, envoie, trie |
| ğŸ“… **Calendrier** | Planning | Planifie, rappelle |

---

### L4: Plugins

| Agent | Type | Description |
|-------|------|-------------|
| ğŸ”Œ **Plugin** | Extension | Agents crÃ©Ã©s dynamiquement |
| ğŸ¤– **Custom** | PersonnalisÃ© | Agents utilisateur |

---

## 4. CHE-Learn: Le SystÃ¨me d'Apprentissage

### 4.1 Concept

CHE-Learn est le systÃ¨me d'apprentissage contrÃ´lÃ© de CHEÂ·NU:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      CHE-LEARN                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ğŸ“¥ COLLECTE                                                    â”‚
â”‚  â”‚  â€¢ Actions utilisateur                                      â”‚
â”‚  â”‚  â€¢ CrÃ©ations (modules, mondes, agents)                      â”‚
â”‚  â”‚  â€¢ Patterns d'utilisation                                   â”‚
â”‚  â”‚                                                              â”‚
â”‚  â–¼                                                              â”‚
â”‚  ğŸ§  ANALYSE                                                     â”‚
â”‚  â”‚  â€¢ DÃ©tection de patterns                                    â”‚
â”‚  â”‚  â€¢ Identification des besoins                               â”‚
â”‚  â”‚  â€¢ Ã‰valuation des performances                              â”‚
â”‚  â”‚                                                              â”‚
â”‚  â–¼                                                              â”‚
â”‚  ğŸ’¡ PROPOSITION                                                 â”‚
â”‚  â”‚  â€¢ SuggÃ¨re des amÃ©liorations                                â”‚
â”‚  â”‚  â€¢ Propose de nouveaux modules                              â”‚
â”‚  â”‚  â€¢ Recommande des optimisations                             â”‚
â”‚  â”‚                                                              â”‚
â”‚  â–¼                                                              â”‚
â”‚  âœ… VALIDATION (par utilisateur/Architecte)                    â”‚
â”‚  â”‚                                                              â”‚
â”‚  â–¼                                                              â”‚
â”‚  ğŸ“¦ INTÃ‰GRATION                                                 â”‚
â”‚     â€¢ Module crÃ©Ã© et activÃ©                                    â”‚
â”‚     â€¢ Documentation gÃ©nÃ©rÃ©e                                    â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 RÃ¨gles CHE-Learn

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   RÃˆGLES CHE-LEARN                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                        â”‚
â”‚  CL.1  CHE-Learn n'agit JAMAIS sans validation utilisateur            â”‚
â”‚                                                                        â”‚
â”‚  CL.2  Les propositions sont TOUJOURS explicites et documentÃ©es       â”‚
â”‚                                                                        â”‚
â”‚  CL.3  L'utilisateur peut REFUSER toute proposition                   â”‚
â”‚                                                                        â”‚
â”‚  CL.4  Les modifications du noyau requiÃ¨rent validation Architecte    â”‚
â”‚                                                                        â”‚
â”‚  CL.5  Tout apprentissage est TRAÃ‡ABLE et RÃ‰VERSIBLE                  â”‚
â”‚                                                                        â”‚
â”‚  CL.6  CHE-Learn ne collecte QUE les donnÃ©es nÃ©cessaires              â”‚
â”‚                                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 Types d'Apprentissage

| Type | Description | Exemple |
|------|-------------|---------|
| **Comportemental** | Patterns d'utilisation | "Vous crÃ©ez souvent des tÃ¢ches le lundi" |
| **Structurel** | Organisation des donnÃ©es | "SuggÃ¨re une nouvelle catÃ©gorie" |
| **PrÃ©dictif** | Anticipation | "Vous pourriez avoir besoin de X" |
| **Optimisation** | Performance | "Ce workflow peut Ãªtre simplifiÃ©" |

---

## 5. Agents SpÃ©cialisÃ©s par Espace

### 5.1 Mapping Espace â†’ Agents

| Espace | Agent Principal | Agents Secondaires |
|--------|-----------------|-------------------|
| ğŸ‘¤ PERSONNEL | Agent Personnel | Chat, Calendrier |
| ğŸ‰ SOCIAL | Agent Social | Notifications, Partage |
| ğŸ“š SCHOLAR | Agent Ã‰ducation | Quiz, Progression |
| ğŸ  MAISON | Agent Maison | IoT, MÃ©tÃ©o |
| ğŸ¢ ENTREPRISE | Agent Business | CRM, Finance, RH |
| ğŸ“ PROJETS | Agent Projets | TÃ¢ches, Gantt |
| ğŸ¨ CREATIVE | Agent CrÃ©atif | Design, 3D |
| ğŸ›ï¸ GOUVERNEMENT | Agent Gouv | Formulaires, Docs |
| ğŸ˜ï¸ IMMOBILIER | Agent Immo | Biens, Calculs |
| ğŸ¤ ASSOCIATIONS | Agent Asso | Membres, Events |

---

## 6. Communication Inter-Agents

### 6.1 Protocole

Les agents communiquent via un systÃ¨me de messages:

```python
class AgentMessage:
    sender: str           # ID de l'agent Ã©metteur
    receiver: str         # ID de l'agent destinataire
    type: MessageType     # REQUEST, RESPONSE, EVENT, COMMAND
    priority: Priority    # LOW, NORMAL, HIGH, CRITICAL
    payload: dict         # DonnÃ©es du message
    context: dict         # Contexte (user_id, space, etc.)
    timestamp: datetime
```

### 6.2 Exemple de Flux

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           EXEMPLE: CrÃ©ation d'un module                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  1. ğŸ‘¤ Utilisateur: "CrÃ©e un module de gestion de stocks"      â”‚
â”‚     â”‚                                                          â”‚
â”‚     â–¼                                                          â”‚
â”‚  2. ğŸ’¬ Agent Chat â†’ ğŸ‘ï¸ Visionnaire                             â”‚
â”‚     â”‚  "InterprÃ¨te cette demande"                              â”‚
â”‚     â”‚                                                          â”‚
â”‚     â–¼                                                          â”‚
â”‚  3. ğŸ‘ï¸ Visionnaire â†’ ğŸ›ï¸ Architecte                             â”‚
â”‚     â”‚  "Valide cette structure: ENTREPRISE/Stock/Module"       â”‚
â”‚     â”‚                                                          â”‚
â”‚     â–¼                                                          â”‚
â”‚  4. ğŸ›ï¸ Architecte â†’ ğŸ”§ Builder                                  â”‚
â”‚     â”‚  "Construis le module validÃ©"                            â”‚
â”‚     â”‚                                                          â”‚
â”‚     â–¼                                                          â”‚
â”‚  5. ğŸ”§ Builder â†’ ğŸ“ Documentor                                  â”‚
â”‚     â”‚  "Documente ce nouveau module"                           â”‚
â”‚     â”‚                                                          â”‚
â”‚     â–¼                                                          â”‚
â”‚  6. ğŸ“ Documentor â†’ ğŸ“š CHE-Learn                                â”‚
â”‚     â”‚  "Enregistre cette crÃ©ation"                             â”‚
â”‚     â”‚                                                          â”‚
â”‚     â–¼                                                          â”‚
â”‚  7. ğŸ’¬ Agent Chat â†’ ğŸ‘¤ Utilisateur                              â”‚
â”‚        "Module crÃ©Ã© avec succÃ¨s!"                              â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7. IntÃ©gration Technique

### 7.1 Backend Structure

```
backend/agents/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ base_agent.py           # Classe de base
â”œâ”€â”€ orchestrator/
â”‚   â”œâ”€â”€ nova.py             # L-1: Superviseur
â”‚   â”œâ”€â”€ master_mind.py      # L0: Orchestrateur
â”‚   â””â”€â”€ architect.py        # L0: Architecte
â”œâ”€â”€ directors/
â”‚   â”œâ”€â”€ visionnaire.py      # L1
â”‚   â”œâ”€â”€ enterprise.py       # L1
â”‚   â”œâ”€â”€ projects.py         # L1
â”‚   â””â”€â”€ ...
â”œâ”€â”€ specialists/
â”‚   â”œâ”€â”€ builder.py          # L2
â”‚   â”œâ”€â”€ documentor.py       # L2
â”‚   â”œâ”€â”€ validator.py        # L2
â”‚   â””â”€â”€ designer.py         # L2
â”œâ”€â”€ operators/
â”‚   â”œâ”€â”€ chat.py             # L3
â”‚   â”œâ”€â”€ tasks.py            # L3
â”‚   â”œâ”€â”€ email.py            # L3
â”‚   â””â”€â”€ calendar.py         # L3
â”œâ”€â”€ che_learn/
â”‚   â”œâ”€â”€ collector.py        # Collecte donnÃ©es
â”‚   â”œâ”€â”€ analyzer.py         # Analyse patterns
â”‚   â”œâ”€â”€ proposer.py         # GÃ©nÃ¨re propositions
â”‚   â””â”€â”€ integrator.py       # IntÃ¨gre changements
â””â”€â”€ message_bus.py          # Communication
```

### 7.2 Schemas

```python
from enum import Enum
from pydantic import BaseModel

class AgentLevel(str, Enum):
    L_MINUS_1 = "L-1"  # Superviseur
    L0 = "L0"          # Architecte
    L1 = "L1"          # Directeur
    L2 = "L2"          # SpÃ©cialiste
    L3 = "L3"          # OpÃ©rationnel
    L4 = "L4"          # Plugin

class AgentStatus(str, Enum):
    ACTIVE = "active"
    BUSY = "busy"
    IDLE = "idle"
    OFFLINE = "offline"

class Agent(BaseModel):
    id: str
    name: str
    level: AgentLevel
    role: str
    status: AgentStatus
    skills: List[str]
    parent_id: Optional[str]
    children_ids: List[str]
```

### 7.3 API Endpoints

```python
# Agents
GET    /api/v1/agents                  # Liste des agents
GET    /api/v1/agents/{id}             # DÃ©tail d'un agent
GET    /api/v1/agents/hierarchy        # Arbre hiÃ©rarchique
POST   /api/v1/agents/{id}/message     # Envoyer un message

# CHE-Learn
GET    /api/v1/che-learn/suggestions   # Suggestions actives
POST   /api/v1/che-learn/approve/{id}  # Approuver suggestion
POST   /api/v1/che-learn/reject/{id}   # Rejeter suggestion
GET    /api/v1/che-learn/history       # Historique
```

---

## 8. Personnalisation des Agents

### 8.1 PersonnalitÃ©

Chaque agent peut avoir une personnalitÃ© configurable:

```python
class AgentPersonality(BaseModel):
    tone: str           # "professional", "friendly", "formal"
    verbosity: str      # "concise", "detailed", "balanced"
    proactivity: float  # 0.0 Ã  1.0
    creativity: float   # 0.0 Ã  1.0
    emoji_usage: bool   # Utilise des emojis ou non
```

### 8.2 CrÃ©ation d'Agent PersonnalisÃ©

Via la Creation Room, les utilisateurs peuvent crÃ©er des agents:

```yaml
name: "Mon Agent Stock"
level: L4
role: "Gestion des stocks"
skills:
  - inventory_management
  - alerts
  - reporting
personality:
  tone: professional
  verbosity: concise
  proactivity: 0.8
prompts:
  greeting: "Bonjour, je suis votre assistant stocks."
  help: "Je peux vous aider avec l'inventaire..."
```

---

## 9. SÃ©curitÃ© des Agents

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   SÃ‰CURITÃ‰ DES AGENTS                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                        â”‚
â”‚  S.1  Les agents ne peuvent accÃ©der qu'aux donnÃ©es de leur scope      â”‚
â”‚                                                                        â”‚
â”‚  S.2  Les actions critiques requiÃ¨rent validation utilisateur         â”‚
â”‚                                                                        â”‚
â”‚  S.3  Tous les messages sont loggÃ©s et auditables                     â”‚
â”‚                                                                        â”‚
â”‚  S.4  Les agents L4 (plugins) sont sandboxÃ©s                          â”‚
â”‚                                                                        â”‚
â”‚  S.5  Les agents ne peuvent pas modifier les rÃ¨gles A, B, C           â”‚
â”‚                                                                        â”‚
â”‚  S.6  Rate limiting sur les actions automatiques                      â”‚
â”‚                                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 10. Roadmap Agents

| Phase | FonctionnalitÃ© | Status |
|-------|----------------|--------|
| **V1.0** | Agents de base (L1-L3) | ğŸŸ¡ En cours |
| **V1.1** | Communication inter-agents | âšª PlanifiÃ© |
| **V1.2** | CHE-Learn basique | âšª PlanifiÃ© |
| **V2.0** | Agents personnalisÃ©s (L4) | âšª PlanifiÃ© |
| **V2.5** | Apprentissage avancÃ© | âšª PlanifiÃ© |
| **V3.0** | Agents autonomes | âšª PlanifiÃ© |

---

**CHEÂ·NU V25** â€” *"Des agents intelligents au service de votre vie."* ğŸ¤–
